# coding:utf-8
import requests
import time

ID_list = [{"user_id": ["7696"], "ID": 201213010101}, {"user_id": ["7697"], "ID": 201213010102},
           {"user_id": ["7698"], "ID": 201213010103}, {"user_id": ["7699"], "ID": 201213010104},
           {"user_id": ["7700"], "ID": 201213010105}, {"user_id": ["7701"], "ID": 201213010107},
           {"user_id": ["7702"], "ID": 201213010108}, {"user_id": ["7703"], "ID": 201213010109},
           {"user_id": ["7704"], "ID": 201213010110}, {"user_id": ["7705"], "ID": 201213010111},
           {"user_id": ["7706"], "ID": 201213010113}, {"user_id": ["7707"], "ID": 201213010114},
           {"user_id": ["7708"], "ID": 201213010115}, {"user_id": ["7709"], "ID": 201213010116},
           {"user_id": ["7710"], "ID": 201213010117}, {"user_id": ["7711"], "ID": 201213010118},
           {"user_id": ["7712"], "ID": 201213010119}, {"user_id": ["7713"], "ID": 201213010120},
           {"user_id": ["7714"], "ID": 201213010121}, {"user_id": ["7715"], "ID": 201213010123},
           {"user_id": ["7716"], "ID": 201213010124}, {"user_id": ["7717"], "ID": 201213010125},
           {"user_id": ["7718"], "ID": 201213010127}, {"user_id": ["7719"], "ID": 201213010128},
           {"user_id": ["7720"], "ID": 201213010129}, {"user_id": ["7721"], "ID": 201213010130},
           {"user_id": ["7722"], "ID": 201213010131}, {"user_id": ["7723"], "ID": 201213010201},
           {"user_id": ["7724"], "ID": 201213010202}, {"user_id": ["7725"], "ID": 201213010203},
           {"user_id": ["7726"], "ID": 201213010204}, {"user_id": ["7727"], "ID": 201213010205},
           {"user_id": ["7728"], "ID": 201213010206}, {"user_id": ["7729"], "ID": 201213010207},
           {"user_id": ["7730"], "ID": 201213010208}, {"user_id": ["7692"], "ID": 201213010213},
           {"user_id": ["7695"], "ID": 201213010214}, {"user_id": ["7690"], "ID": 201213010215},
           {"user_id": ["7731"], "ID": 201213010216}, {"user_id": ["7732"], "ID": 201213010217},
           {"user_id": ["7733"], "ID": 201213010218}, {"user_id": ["7734"], "ID": 201213010219},
           {"user_id": ["7735"], "ID": 201213010220}, {"user_id": ["7736"], "ID": 201213010221},
           {"user_id": ["7691"], "ID": 201213010222}, {"user_id": ["7737"], "ID": 201213010226},
           {"user_id": ["7738"], "ID": 201213010227}, {"user_id": ["7739"], "ID": 201213010229},
           {"user_id": ["7740"], "ID": 201213010230}, {"user_id": ["7741"], "ID": 201213010231},
           {"user_id": ["7742"], "ID": 201213010301}, {"user_id": ["7743"], "ID": 201213010302},
           {"user_id": ["7744"], "ID": 201213010304}, {"user_id": ["7745"], "ID": 201213010305},
           {"user_id": ["7746"], "ID": 201213010306}, {"user_id": ["7747"], "ID": 201213010307},
           {"user_id": ["7748"], "ID": 201213010308}, {"user_id": ["7749"], "ID": 201213010309},
           {"user_id": ["7750"], "ID": 201213010310}, {"user_id": ["7751"], "ID": 201213010311},
           {"user_id": ["7752"], "ID": 201213010313}, {"user_id": ["7753"], "ID": 201213010314},
           {"user_id": ["7754"], "ID": 201213010315}, {"user_id": ["7755"], "ID": 201213010316},
           {"user_id": ["7756"], "ID": 201213010319}, {"user_id": ["7757"], "ID": 201213010321},
           {"user_id": ["7758"], "ID": 201213010323}, {"user_id": ["7759"], "ID": 201213010324},
           {"user_id": ["7760"], "ID": 201213010325}, {"user_id": ["7761"], "ID": 201213010327},
           {"user_id": ["7762"], "ID": 201213010328}, {"user_id": ["7763"], "ID": 201213010329},
           {"user_id": ["7764"], "ID": 201213010330}, {"user_id": ["7765"], "ID": 201213010331},
           {"user_id": ["7766"], "ID": 201213010401}, {"user_id": ["7767"], "ID": 201213010402},
           {"user_id": ["7768"], "ID": 201213010403}, {"user_id": ["7769"], "ID": 201213010404},
           {"user_id": ["7770"], "ID": 201213010405}, {"user_id": ["7771"], "ID": 201213010406},
           {"user_id": ["7772"], "ID": 201213010407}, {"user_id": ["7773"], "ID": 201213010408},
           {"user_id": ["7774"], "ID": 201213010409}, {"user_id": ["7775"], "ID": 201213010410},
           {"user_id": ["7776"], "ID": 201213010411}, {"user_id": ["7777"], "ID": 201213010412},
           {"user_id": ["7778"], "ID": 201213010413}, {"user_id": ["7779"], "ID": 201213010414},
           {"user_id": ["7780"], "ID": 201213010415}, {"user_id": ["7781"], "ID": 201213010416},
           {"user_id": ["7782"], "ID": 201213010417}, {"user_id": ["7783"], "ID": 201213010418},
           {"user_id": ["7784"], "ID": 201213010419}, {"user_id": ["7785"], "ID": 201213010420},
           {"user_id": ["7786"], "ID": 201213010421}, {"user_id": ["7787"], "ID": 201213010422},
           {"user_id": ["7788"], "ID": 201213010423}, {"user_id": ["7789"], "ID": 201213010424},
           {"user_id": ["7790"], "ID": 201213010425}, {"user_id": ["7696"], "ID": 201213010101},
           {"user_id": ["7697"], "ID": 201213010102}, {"user_id": ["7698"], "ID": 201213010103},
           {"user_id": ["7699"], "ID": 201213010104}, {"user_id": ["7700"], "ID": 201213010105},
           {"user_id": ["7701"], "ID": 201213010107}, {"user_id": ["7702"], "ID": 201213010108},
           {"user_id": ["7703"], "ID": 201213010109}, {"user_id": ["7704"], "ID": 201213010110},
           {"user_id": ["7705"], "ID": 201213010111}, {"user_id": ["7706"], "ID": 201213010113},
           {"user_id": ["7707"], "ID": 201213010114}, {"user_id": ["7708"], "ID": 201213010115},
           {"user_id": ["7709"], "ID": 201213010116}, {"user_id": ["7710"], "ID": 201213010117},
           {"user_id": ["7711"], "ID": 201213010118}, {"user_id": ["7712"], "ID": 201213010119},
           {"user_id": ["7713"], "ID": 201213010120}, {"user_id": ["7714"], "ID": 201213010121},
           {"user_id": ["7715"], "ID": 201213010123}, {"user_id": ["7716"], "ID": 201213010124},
           {"user_id": ["7717"], "ID": 201213010125}, {"user_id": ["7718"], "ID": 201213010127},
           {"user_id": ["7719"], "ID": 201213010128}, {"user_id": ["7720"], "ID": 201213010129},
           {"user_id": ["7721"], "ID": 201213010130}, {"user_id": ["7722"], "ID": 201213010131},
           {"user_id": ["7723"], "ID": 201213010201}, {"user_id": ["7724"], "ID": 201213010202},
           {"user_id": ["7725"], "ID": 201213010203}, {"user_id": ["7726"], "ID": 201213010204},
           {"user_id": ["7727"], "ID": 201213010205}, {"user_id": ["7728"], "ID": 201213010206},
           {"user_id": ["7729"], "ID": 201213010207}, {"user_id": ["7730"], "ID": 201213010208},
           {"user_id": ["7692"], "ID": 201213010213}, {"user_id": ["7695"], "ID": 201213010214},
           {"user_id": ["7690"], "ID": 201213010215}, {"user_id": ["7731"], "ID": 201213010216},
           {"user_id": ["7732"], "ID": 201213010217}, {"user_id": ["7733"], "ID": 201213010218},
           {"user_id": ["7734"], "ID": 201213010219}, {"user_id": ["7735"], "ID": 201213010220},
           {"user_id": ["7736"], "ID": 201213010221}, {"user_id": ["7691"], "ID": 201213010222},
           {"user_id": ["7737"], "ID": 201213010226}, {"user_id": ["7738"], "ID": 201213010227},
           {"user_id": ["7739"], "ID": 201213010229}, {"user_id": ["7740"], "ID": 201213010230},
           {"user_id": ["7741"], "ID": 201213010231}, {"user_id": ["7742"], "ID": 201213010301},
           {"user_id": ["7743"], "ID": 201213010302}, {"user_id": ["7744"], "ID": 201213010304},
           {"user_id": ["7745"], "ID": 201213010305}, {"user_id": ["7746"], "ID": 201213010306},
           {"user_id": ["7747"], "ID": 201213010307}, {"user_id": ["7748"], "ID": 201213010308},
           {"user_id": ["7749"], "ID": 201213010309}, {"user_id": ["7750"], "ID": 201213010310},
           {"user_id": ["7751"], "ID": 201213010311}, {"user_id": ["7752"], "ID": 201213010313},
           {"user_id": ["7753"], "ID": 201213010314}, {"user_id": ["7754"], "ID": 201213010315},
           {"user_id": ["7755"], "ID": 201213010316}, {"user_id": ["7756"], "ID": 201213010319},
           {"user_id": ["7757"], "ID": 201213010321}, {"user_id": ["7758"], "ID": 201213010323},
           {"user_id": ["7759"], "ID": 201213010324}, {"user_id": ["7760"], "ID": 201213010325},
           {"user_id": ["7761"], "ID": 201213010327}, {"user_id": ["7762"], "ID": 201213010328},
           {"user_id": ["7763"], "ID": 201213010329}, {"user_id": ["7764"], "ID": 201213010330},
           {"user_id": ["7765"], "ID": 201213010331}, {"user_id": ["7766"], "ID": 201213010401},
           {"user_id": ["7767"], "ID": 201213010402}, {"user_id": ["7768"], "ID": 201213010403},
           {"user_id": ["7769"], "ID": 201213010404}, {"user_id": ["7770"], "ID": 201213010405},
           {"user_id": ["7771"], "ID": 201213010406}, {"user_id": ["7772"], "ID": 201213010407},
           {"user_id": ["7773"], "ID": 201213010408}, {"user_id": ["7774"], "ID": 201213010409},
           {"user_id": ["7775"], "ID": 201213010410}, {"user_id": ["7776"], "ID": 201213010411},
           {"user_id": ["7777"], "ID": 201213010412}, {"user_id": ["7778"], "ID": 201213010413},
           {"user_id": ["7779"], "ID": 201213010414}, {"user_id": ["7780"], "ID": 201213010415},
           {"user_id": ["7781"], "ID": 201213010416}, {"user_id": ["7782"], "ID": 201213010417},
           {"user_id": ["7783"], "ID": 201213010418}, {"user_id": ["7784"], "ID": 201213010419},
           {"user_id": ["7785"], "ID": 201213010420}, {"user_id": ["7786"], "ID": 201213010421},
           {"user_id": ["7787"], "ID": 201213010422}, {"user_id": ["7788"], "ID": 201213010423},
           {"user_id": ["7789"], "ID": 201213010424}, {"user_id": ["7790"], "ID": 201213010425},
           {"user_id": ["7886"], "ID": 201213030101}, {"user_id": ["7887"], "ID": 201213030102},
           {"user_id": ["7888"], "ID": 201213030104}, {"user_id": ["7889"], "ID": 201213030105},
           {"user_id": ["7890"], "ID": 201213030106}, {"user_id": ["7891"], "ID": 201213030107},
           {"user_id": ["7892"], "ID": 201213030108}, {"user_id": ["7893"], "ID": 201213030109},
           {"user_id": ["7894"], "ID": 201213030110}, {"user_id": ["7895"], "ID": 201213030111},
           {"user_id": ["7896"], "ID": 201213030112}, {"user_id": ["7897"], "ID": 201213030113},
           {"user_id": ["7898"], "ID": 201213030114}, {"user_id": ["7899"], "ID": 201213030115},
           {"user_id": ["7900"], "ID": 201213030116}, {"user_id": ["7901"], "ID": 201213030117},
           {"user_id": ["7902"], "ID": 201213030118}, {"user_id": ["7903"], "ID": 201213030119},
           {"user_id": ["7904"], "ID": 201213030120}, {"user_id": ["7905"], "ID": 201213030121},
           {"user_id": ["7906"], "ID": 201213030122}, {"user_id": ["7907"], "ID": 201213030123},
           {"user_id": ["7908"], "ID": 201213030124}, {"user_id": ["7909"], "ID": 201213030125},
           {"user_id": ["7910"], "ID": 201213030126}, {"user_id": ["7911"], "ID": 201213030127},
           {"user_id": ["7912"], "ID": 201213030128}, {"user_id": ["7913"], "ID": 201213030129},
           {"user_id": ["7914"], "ID": 201213030130}, {"user_id": ["7915"], "ID": 201213030201},
           {"user_id": ["7916"], "ID": 201213030202}, {"user_id": ["7917"], "ID": 201213030203},
           {"user_id": ["7918"], "ID": 201213030204}, {"user_id": ["7919"], "ID": 201213030205},
           {"user_id": ["7920"], "ID": 201213030206}, {"user_id": ["7921"], "ID": 201213030207},
           {"user_id": ["7922"], "ID": 201213030208}, {"user_id": ["7923"], "ID": 201213030209},
           {"user_id": ["7924"], "ID": 201213030210}, {"user_id": ["7925"], "ID": 201213030211},
           {"user_id": ["7926"], "ID": 201213030212}, {"user_id": ["7927"], "ID": 201213030213},
           {"user_id": ["7928"], "ID": 201213030214}, {"user_id": ["7929"], "ID": 201213030215},
           {"user_id": ["7930"], "ID": 201213030216}, {"user_id": ["7931"], "ID": 201213030217},
           {"user_id": ["7932"], "ID": 201213030218}, {"user_id": ["7933"], "ID": 201213030219},
           {"user_id": ["7934"], "ID": 201213030220}, {"user_id": ["7935"], "ID": 201213030221},
           {"user_id": ["7936"], "ID": 201213030222}, {"user_id": ["7937"], "ID": 201213030223},
           {"user_id": ["7938"], "ID": 201213030224}, {"user_id": ["7939"], "ID": 201213030225},
           {"user_id": ["7940"], "ID": 201213030226}, {"user_id": ["7941"], "ID": 201213030227},
           {"user_id": ["7942"], "ID": 201213030228}, {"user_id": ["7943"], "ID": 201213030229},
           {"user_id": ["7944"], "ID": 201213030230}, {"user_id": ["7945"], "ID": 201213030301},
           {"user_id": ["7946"], "ID": 201213030302}, {"user_id": ["7947"], "ID": 201213030303},
           {"user_id": ["7948"], "ID": 201213030304}, {"user_id": ["7949"], "ID": 201213030305},
           {"user_id": ["7950"], "ID": 201213030306}, {"user_id": ["7951"], "ID": 201213030307},
           {"user_id": ["7952"], "ID": 201213030308}, {"user_id": ["7953"], "ID": 201213030309},
           {"user_id": ["7954"], "ID": 201213030310}, {"user_id": ["7955"], "ID": 201213030311},
           {"user_id": ["7956"], "ID": 201213030312}, {"user_id": ["7957"], "ID": 201213030313},
           {"user_id": ["7958"], "ID": 201213030314}, {"user_id": ["7959"], "ID": 201213030315},
           {"user_id": ["7960"], "ID": 201213030316}, {"user_id": ["7961"], "ID": 201213030317},
           {"user_id": ["7962"], "ID": 201213030318}, {"user_id": ["7963"], "ID": 201213030319},
           {"user_id": ["7964"], "ID": 201213030320}, {"user_id": ["7965"], "ID": 201213030321},
           {"user_id": ["7966"], "ID": 201213030323}, {"user_id": ["7967"], "ID": 201213030324},
           {"user_id": ["7968"], "ID": 201213030325}, {"user_id": ["7969"], "ID": 201213030327},
           {"user_id": ["7970"], "ID": 201213030328}, {"user_id": ["7971"], "ID": 201213030329},
           {"user_id": ["7972"], "ID": 201213040101}, {"user_id": ["7973"], "ID": 201213040102},
           {"user_id": ["7974"], "ID": 201213040103}, {"user_id": ["7975"], "ID": 201213040104},
           {"user_id": ["7976"], "ID": 201213040105}, {"user_id": ["7977"], "ID": 201213040106},
           {"user_id": ["7978"], "ID": 201213040107}, {"user_id": ["7979"], "ID": 201213040108},
           {"user_id": ["7980"], "ID": 201213040109}, {"user_id": ["7981"], "ID": 201213040110},
           {"user_id": ["7982"], "ID": 201213040111}, {"user_id": ["7983"], "ID": 201213040112},
           {"user_id": ["7984"], "ID": 201213040113}, {"user_id": ["7985"], "ID": 201213040114},
           {"user_id": ["7986"], "ID": 201213040115}, {"user_id": ["7987"], "ID": 201213040116},
           {"user_id": ["7988"], "ID": 201213040117}, {"user_id": ["7989"], "ID": 201213040118},
           {"user_id": ["7990"], "ID": 201213040119}, {"user_id": ["7991"], "ID": 201213040120},
           {"user_id": ["7992"], "ID": 201213040121}, {"user_id": ["7993"], "ID": 201213040122},
           {"user_id": ["7994"], "ID": 201213040123}, {"user_id": ["7995"], "ID": 201213040125},
           {"user_id": ["7996"], "ID": 201213040126}, {"user_id": ["7997"], "ID": 201213040127},
           {"user_id": ["7998"], "ID": 201213040128}, {"user_id": ["7999"], "ID": 201213040129},
           {"user_id": ["8000"], "ID": 201213040131}, {"user_id": ["8001"], "ID": 201213040132},
           {"user_id": ["8002"], "ID": 201213040134}, {"user_id": ["8003"], "ID": 201213040201},
           {"user_id": ["8004"], "ID": 201213040202}, {"user_id": ["8005"], "ID": 201213040203},
           {"user_id": ["8006"], "ID": 201213040204}, {"user_id": ["8007"], "ID": 201213040205},
           {"user_id": ["8008"], "ID": 201213040207}, {"user_id": ["8009"], "ID": 201213040208},
           {"user_id": ["8010"], "ID": 201213040209}, {"user_id": ["8011"], "ID": 201213040210},
           {"user_id": ["8012"], "ID": 201213040211}, {"user_id": ["8013"], "ID": 201213040212},
           {"user_id": ["8014"], "ID": 201213040213}, {"user_id": ["8015"], "ID": 201213040214},
           {"user_id": ["8016"], "ID": 201213040215}, {"user_id": ["8017"], "ID": 201213040216},
           {"user_id": ["8018"], "ID": 201213040217}, {"user_id": ["8019"], "ID": 201213040218},
           {"user_id": ["8020"], "ID": 201213040219}, {"user_id": ["8021"], "ID": 201213040220},
           {"user_id": ["8022"], "ID": 201213040221}, {"user_id": ["8023"], "ID": 201213040222},
           {"user_id": ["8024"], "ID": 201213040223}, {"user_id": ["8025"], "ID": 201213040224},
           {"user_id": ["8026"], "ID": 201213040225}, {"user_id": ["8027"], "ID": 201213040226},
           {"user_id": ["8028"], "ID": 201213040227}, {"user_id": ["8029"], "ID": 201213040228},
           {"user_id": ["8030"], "ID": 201213040229}, {"user_id": ["8031"], "ID": 201213040230},
           {"user_id": ["8032"], "ID": 201213040231}, {"user_id": ["8033"], "ID": 201213040232},
           {"user_id": ["8034"], "ID": 201213040233}]

DATE = 282
seat_list = [255021, 255493]
post_url = 'http://172.18.249.153:6080/seatSubscribeServer/seat/appointmentSeat.do'
qwq = 0
raw_input("eeee")
try:
    while qwq < 3:
        DATE = DATE - qwq
        qwq += 1
        today = int(time.strftime('%j'))
        seat_pian_yi = (today - DATE) * 2722
        id_pianyi = (today - DATE) * 4
        n = 0
        id_num = 0
        log = open('log.log', 'a')
        for i in range(0, 2):
            seat = seat_list[n] + seat_pian_yi
            post_data = {'userId': ID_list[id_num + id_pianyi + i]['user_id'], 'seatSectionId': seat}
            result = requests.post(post_url, data=post_data)
            print result.text
            if result.json()['result'] == 'success':
                log.write('预约成功')
                post_data['seatSectionId'] += 100
                seat_pos = requests.post(post_url, data=post_data)
                print u'预约成功'
            else:
                log.write('预约出错: ')
                print u'预约失败'
                print result.json()['errorMsg']
            n += 1
            time.sleep(0.5)
        log.write('%s   ' % time.strftime('%Y-%m-%d %H:%M:%S'))
        log.write('已完成预约%s 的座位\n' % time.strftime('%Y-%m-%d', time.localtime(time.time() + 3 * 24 * 60 * 60)))
        log.write('=' * 70)
        log.write('\n')
        log.close()
except:
    raw_input("Fail")

 


